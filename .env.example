# ══════════════════════════════════════════════════════════════════════
# Docker Compose - Environment Variables Example
# ══════════════════════════════════════════════════════════════════════
# 
# Este arquivo é um template com todas as variáveis de ambiente necessárias.
# Copie este arquivo para .env e preencha com seus valores reais:
#
#   cp .env.example .env
#
# IMPORTANTE: O arquivo .env contém secrets e NÃO deve ser commitado no git.
#
# ══════════════════════════════════════════════════════════════════════

# ––––––––––––––––––––––––––––––––––––––
# ––––––––––– OUTLINE WIKI ––––––––––––
# ––––––––––––––––––––––––––––––––––––––

NODE_ENV=production

# This URL should point to the fully qualified, publicly accessible, URL.
# For local Docker testing use localhost
URL=http://localhost:3000

# The port to expose the Outline server on (internal)
PORT=3000

# The port exposed to the host machine (for docker mapping)
EXPOSED_PORT=3000

# See [documentation](docs/SERVICES.md) on running a separate collaboration
# server, for normal operation this does not need to be set.
# Must match the URL above
COLLABORATION_URL=http://localhost:3000

# Generate a hex-encoded 32-byte random key. Use `openssl rand -hex 32` or PowerShell:
# [Convert]::ToBase64String((1..32 | ForEach-Object { Get-Random -Minimum 0 -Maximum 256 }))
SECRET_KEY=generate_a_new_32_byte_hex_key_here_replace_this_value

# Generate a unique random key
UTILS_SECRET=generate_a_unique_random_key_here_replace_this_value

# Default interface language
DEFAULT_LANGUAGE=en_US

# ––––––––––––––––––––––––––––––––––––––
# ––––––––––––– DATABASE –––––––––––––
# ––––––––––––––––––––––––––––––––––––––

# Database URL matching the postgres service in docker-compose.yml
# Adding ?sslmode=disable for local PostgreSQL connection
DATABASE_URL=postgres://user:pass@postgres:5432/outline?sslmode=disable

# ––––––––––––––––––––––––––––––––––––––
# –––––––––––––– REDIS –––––––––––––––
# ––––––––––––––––––––––––––––––––––––––

# Redis URL matching the redis service in docker-compose.yml
REDIS_URL=redis://redis:6379

# ––––––––––––––––––––––––––––––––––––––
# ––––––––––– FILE STORAGE –––––––––––
# ––––––––––––––––––––––––––––––––––––––

# Use local storage (files stored in Docker volume)
FILE_STORAGE=local
FILE_STORAGE_LOCAL_ROOT_DIR=/var/lib/outline/data
FILE_STORAGE_UPLOAD_MAX_SIZE=262144000

# ––––––––––––––––––––––––––––––––––––––
# –––––––––––––––– SSL –––––––––––––––
# ––––––––––––––––––––––––––––––––––––––

# Auto-redirect to https in production
# Disabled for local testing
FORCE_HTTPS=false

# ––––––––––––––––––––––––––––––––––––––
# –––––––––– AUTHENTICATION ––––––––––
# ––––––––––––––––––––––––––––––––––––––

# At least ONE authentication provider is required (Google, Slack, Discord, Microsoft, or Email)
# For local testing, email magic link is configured below

# Slack sign-in provider (leave empty if not using)
SLACK_CLIENT_ID=
SLACK_CLIENT_SECRET=

# Google sign-in provider
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Microsoft Entra / Azure AD sign-in provider
# Get these from Azure Portal → App Registrations
AZURE_CLIENT_ID=your_azure_client_id_here
AZURE_CLIENT_SECRET=your_azure_client_secret_here
AZURE_RESOURCE_APP_ID=00000003-0000-0000-c000-000000000000

# Discord sign-in provider
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=

# ––––––––––––––––––––––––––––––––––––––
# –––––––––––––– EMAIL –––––––––––––––
# ––––––––––––––––––––––––––––––––––––––

# SMTP configuration for transactional emails and email magic link authentication
# Email magic link authentication is enabled automatically when SMTP is configured
# Currently using Azure AD for authentication, SMTP is optional for email notifications
#
# Option 1: Use Gmail (for email notifications)
# 1. Enable 2-factor authentication on your Gmail account
# 2. Generate an App Password: https://myaccount.google.com/apppasswords
# 3. Use the app password below
# SMTP_SERVICE=gmail
# SMTP_USERNAME=your_email@gmail.com
# SMTP_PASSWORD=your_app_password_here
# SMTP_FROM_EMAIL=Outline <noreply@localhost>

# Option 2: Use Mailtrap (free test service - signup at https://mailtrap.io/)
# SMTP_HOST=smtp.mailtrap.io
# SMTP_PORT=2525
# SMTP_USERNAME=your_mailtrap_username
# SMTP_PASSWORD=your_mailtrap_password
# SMTP_FROM_EMAIL=Outline <noreply@localhost>

# ––––––––––––––––––––––––––––––––––––––
# –––––––––– RATE LIMITER ––––––––––––
# ––––––––––––––––––––––––––––––––––––––

RATE_LIMITER_ENABLED=true
RATE_LIMITER_REQUESTS=1000
RATE_LIMITER_DURATION_WINDOW=60

# ––––––––––––––––––––––––––––––––––––––
# ––––––––––––– DEBUGGING ––––––––––––
# ––––––––––––––––––––––––––––––––––––––

ENABLE_UPDATES=true
DEBUG=http
LOG_LEVEL=info

# ––––––––––––––––––––––––––––––––––––––
# ––––––––––––– OUTLINE MCP ––––––––––––
# ––––––––––––––––––––––––––––––––––––––

# Outline API Key for MCP Server integration
# HOW TO OBTAIN:
# 1. Start Outline: docker-compose up -d
# 2. Access: http://localhost:3000
# 3. Sign in (use Azure AD configured above)
# 4. Go to Settings → API & Apps → New API Key
# 5. Create a new API key
# 6. Copy the key and paste it below
OUTLINE_API_KEY=ol_api_your_api_key_here

# Example of a valid API key format:
# OUTLINE_API_KEY=ol_api_BCOLymBLBUDBRg12ukBeXpNDKlHJqcueTRG0Vh
